<button type="button" data-tooltip="Add image" data-position="bottom center" data-variation="mini" data-inverted="" title="Add image" [disabled]="isAssetBrowserReadOnly || isEditorFocused" (click)="initializeImagePicker('question')" class="ui icon button insert-image-btn">
  <i class="image outline icon"></i>
</button>

<div class="editorWrapper" [ngClass]="{'hasError': limitExceeded}">
  <textarea class="editor" #editor name="question" placeholder=""></textarea>
  <div *ngIf="setCharacterLimit > 0">
    <div class="characterCount">
      <!-- <i class="icon help"></i> -->
      Characters left: {{setCharacterLimit - characterCount}}
    </div>
  </div>
</div>

<sui-modal [isClosable]="true" [isInverted]="true" (dismissed)="dismissImagePicker()" *ngIf="showImagePicker" [size]="'normal'"
  [isFullScreen]="false" [mustScroll]="true" #modal>
  <div class="header">Select Image</div>
  <div class="content">
    <sui-tabset>
      <div class="ui tabular menu">
        <a class="item" (activate)="getMyImages(0)" suiTabHeader="1">My Images</a>
        <a class="item" (activate)="getAllImages(0)" suiTabHeader="2">All Image</a>
      </div>
      <div class="ui segment asset_container" infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="500"
        [scrollWindow]="false" (scrolled)="lazyloadMyImages()" suiTabContent="1">
        <div class="ui small middle aligned bordered images custom-image">
          <img *ngFor="let data of myAssets" (click)="addImageInEditor(data.downloadUrl, data.identifier)" [src]="data.downloadUrl">
        </div>
      </div>
      <div class="ui segment asset_container" infiniteScroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="500"
        [scrollWindow]="false" (scrolled)="lazyloadAllImages()" suiTabContent="2">
        <div class="ui small middle aligned bordered images custom-image">
          <img *ngFor="let data of allImages" (click)="addImageInEditor(data.downloadUrl, data.identifier)" [src]="data.downloadUrl">
        </div>
      </div>
    </sui-tabset>
  </div>
  <div class="actions">
    <div class="ui left floated buttons">
      <button (click)="initiateImageUploadModal();" class="ui primary button">Upload and use</button>
    </div>
    <div class="ui buttons">
      <button (click)="dismissImagePicker();" class="ui button">Cancel</button>
      <!-- <div class="or"></div>
      <button (click)="dismissImagePicker();" class="ui primary button">Save</button> -->
    </div>
  </div>
  </sui-modal>

  <sui-modal [isClosable]="true" [isInverted]="true" (dismissed)="dismissImageUploadModal()" *ngIf="showImageUploadModal"
  [size]="'normal'" [isFullScreen]="false" [mustScroll]="true" #modal3>
  <div class="header">Upload and Use</div>
  <div class="content">
    <div class="ui grid">
      <div class="one wide column"></div>
      <div class="ten wide column">
        <div>
          <input (change)="uploadImage($event)" type="file" accept="image/jpeg, image/jpg, image/png" name="assetfile">
        </div>
        <div class="ui info message">
          <p>Allowed file types are: jpeg, jpg, png</p>
          <p>Maximum allowed file size: 1 MB</p>
        </div>
        <div *ngIf="showErrorMsg" class="ui error message">
          <p>{{errorMsg}}</p>
        </div>
      </div>
      <div class="one wide column"></div>
    </div>
  </div>
  <div class="actions">
    <div class="ui left floated buttons">
      <button (click)="dismissImageUploadModal();" class="ui primary button">Back</button>
    </div>
    <div class="ui buttons">
      <button (click)="dismissImageUploadModal();" class="ui button">Cancel</button>
      <!-- <div class="or"></div>
      <button (click)="dismissImageUploadModal();" class="ui primary button">Upload and use</button> -->
    </div>
  </div>
  </sui-modal>
